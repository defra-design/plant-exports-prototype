{% extends "layout.html" %}

{% block pageTitle %}
  Your consignment - {{serviceName}} - GOV.UK
{% endblock %}

{% block beforeContent %}
{{super()}}
{% include "../../modules/_account-banner.html" %}
<a href="{{page.content.prev or 'javascript:history.back()'}}" class="govuk-back-link">Back</a>
{% endblock %}

{% block content %}
<style>

  .govuk-checkboxes__item {
    top: -10px;
  }

</style>

{% set url = query.return_url or "task-list" %}

<div class="govuk-grid-row">

  <div class="govuk-grid-column-full">
    <h1 class="govuk-heading-xl">Your commodities</h1>

    <div class="govuk-inset-text">
      You have added <strong>6,000</strong> commodities. This consignment is now full. If you have more than 6,000 commodities, you must add them to a new application.</p>
    </div>

    <p class="govuk-body">You can add a maximum of 6,000 commodities to this consignment.</p>

    <div class="search-wrapper govuk-form-group">
      <label for="search-reservations" class="govuk-label">Search by lot reference, description, variety or destination</label>
  
      <div class="search-input-wrapper govuk-!-width-two-thirds">
        <input type="search" value="{{query.search or ''}}" id="search-reservations" name="search" title="Search" class="govuk-input">
        
        <div class="search-input-submit-wrapper">
          <button type="submit" class="search-submit">Search</button>
        </div>
  
      </div>
  
    </div>

    <table class="govuk-table">
      <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th class="govuk-table__header" scope="col">
            <span class="govuk-visually-hidden">Check box</span>
          </th>
          <th class="govuk-table__header" scope="col">
            <span class="govuk-visually-hidden">Line</span>
          </th>
          <th class="govuk-table__header" scope="col">Description</th>
          {% if data.build != "development" %}
          <th class="govuk-table__header" scope="col">Variety</th>
          {% endif %}
          <th class="govuk-table__header" scope="col">Lot reference</th>
          <th class="govuk-table__header" scope="col">Destination</th> 
          <th class="govuk-table__header" scope="col">Quantity</th>
          <th class="govuk-table__header" scope="col">Action</th>
        </tr>
      </thead>
      <tbody class="govuk-table__body govuk-!-font-size-16">
        {% include "../../modules/_summary-seeds-100-check.html" %}
      </tbody>
    </table>

    <div class="govuk-form-group">
      <p class="defra-pagination__results" style="float: left;">
        <a href="#" style=" text-decoration: none;"><b>1</b></a>
        <a href="#" style=" text-decoration: none;"><b>2</b></a>
        <a href="#" style=" text-decoration: none;"><b>3</b></a>
        <a href="#" style=" text-decoration: none;"><b>4</b></a>
      </p>
      <p class="defra-pagination__results" style="float: right;">Showing <b>1</b> to <b><span class="js-case-count">100</span></b> of <b><span class="js-case-count">6,000</span></b> results</p>
    </div>

    <div class="govuk-form-group">
      <p class="govuk-body govuk-!-margin-top-4" style="clear: right;">
        <a class="govuk-link" href="#" id="selectAll">Select all commodities</a>
        <br/>
        <a class="govuk-link" href="confirm-delete">Delete selected commodities</a> <span id="deleteAll">(0 selected)</span>
      </p>
    </div>

    <form method="post" action="task-list">
      
      <div class="govuk-button-group">
        <input class="govuk-button" type="submit" name="saveAndContinue" value="Save and continue">
      </div>

    </form>

  </div>

</div>
    
<script>

  window.addEventListener('load', function() {
    console.log('load');
    var checkBoxes = $(".govuk-checkboxes__input");

    checkBoxes.change(function(e) {
      var len = $('.govuk-checkboxes__input:checked').length;
      $("#deleteAll").text("(" + len + " selected)");
    });

    $("#selectAll").click(function(e) {
      e.preventDefault();
      var txt = $("#selectAll").text();

      if (txt == "Deselect all commodities on this page") {
        $("#selectAll").text("Select all commodities on this page");
        checkBoxes.prop("checked", false);
      }
      else{
        $("#selectAll").text("Deselect all commodities on this page");
        checkBoxes.prop("checked", true);
      }

      var len = $('.govuk-checkboxes__input:checked').length;
      $("#deleteAll").text("(" + len + " selected)");
    });

  });

</script>
{% endblock %}